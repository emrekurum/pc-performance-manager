<UserControl x:Class="PcPerformanceManager.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:viewModels="clr-namespace:PcPerformanceManager.ViewModels"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="0,0,10,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header Section -->
            <Grid Grid.Row="0" Margin="0,0,0,28">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="{StaticResource SettingsTitle}" 
                               FontSize="32" 
                               FontWeight="Bold" 
                               Foreground="#F0F6FC"/>
                    <TextBlock Text="{StaticResource SettingsSubtitle}" 
                               FontSize="14" 
                               Foreground="#8B949E"
                               Margin="0,6,0,0"/>
                </StackPanel>
                
                <!-- Status Message -->
                <TextBlock Grid.Column="1" 
                           Text="{Binding StatusMessage}" 
                           FontSize="13" 
                           Foreground="#8B949E"
                           VerticalAlignment="Center"
                           Margin="0,0,20,0"/>
            </Grid>

            <!-- Status Message Bar -->
            <Border Grid.Row="1" 
                    Background="#161B22" 
                    Padding="20,16" 
                    CornerRadius="12" 
                    Margin="0,0,0,24"
                    BorderThickness="1"
                    BorderBrush="#30363D"
                    Visibility="{Binding HasUnsavedChanges, Converter={StaticResource BooleanToVisibilityConverter}}">
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="âš ï¸" FontSize="16" Margin="0,0,12,0" VerticalAlignment="Center"/>
                    <TextBlock Text="{StaticResource UnsavedChanges}" 
                               FontSize="14" 
                               Foreground="#F85149"
                               VerticalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Settings Content -->
            <Grid Grid.Row="2" Margin="0,0,0,24">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="24"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Left Column -->
                <StackPanel Grid.Column="0">
                    <!-- Genel Ayarlar -->
                    <Border CornerRadius="12" Padding="24" Margin="0,0,0,20"
                            Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                        <StackPanel>
                            <TextBlock Text="{StaticResource GeneralSettings}" 
                                       FontSize="18" 
                                       FontWeight="Bold" 
                                       Foreground="#F0F6FC"
                                       Margin="0,0,0,20"/>
                            
                            <!-- Start with Windows -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource StartWithWindows}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource StartWithWindowsDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.StartWithWindows, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Minimize to Tray -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource MinimizeToTray}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource MinimizeToTrayDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.MinimizeToTray, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Check for Updates -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource CheckForUpdates}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource CheckForUpdatesDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.CheckForUpdates, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Language -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource Language}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource LanguageDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <ComboBox Grid.Column="1" 
                                          Style="{StaticResource ModernComboBox}"
                                          SelectedValue="{Binding Settings.Language, Mode=TwoWay}"
                                          SelectedValuePath="Tag"
                                          MinWidth="120"
                                          VerticalAlignment="Center">
                                    <ComboBoxItem Content="{StaticResource Turkish}" Tag="tr-TR"/>
                                    <ComboBoxItem Content="{StaticResource English}" Tag="en-US"/>
                                </ComboBox>
                            </Grid>

                            <!-- Theme -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource Theme}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource ThemeDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <ComboBox Grid.Column="1" 
                                          Style="{StaticResource ModernComboBox}"
                                          SelectedValue="{Binding Settings.Theme, Mode=TwoWay}"
                                          SelectedValuePath="Tag"
                                          MinWidth="120"
                                          VerticalAlignment="Center">
                                    <ComboBoxItem Content="{StaticResource Dark}" Tag="Dark"/>
                                    <ComboBoxItem Content="{StaticResource Light}" Tag="Light"/>
                                </ComboBox>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Performans AyarlarÄ± -->
                    <Border CornerRadius="12" Padding="24"
                            Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                        <StackPanel>
                            <TextBlock Text="{StaticResource PerformanceSettings}" 
                                       FontSize="18" 
                                       FontWeight="Bold" 
                                       Foreground="#F0F6FC"
                                       Margin="0,0,0,20"/>
                            
                            <!-- Auto Refresh -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource AutoRefresh}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource AutoRefreshDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.AutoRefreshEnabled, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Refresh Interval -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource RefreshInterval}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource RefreshIntervalDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <TextBox Grid.Column="1" 
                                         Style="{StaticResource ModernTextBox}"
                                         Text="{Binding Settings.RefreshIntervalSeconds, Mode=TwoWay}"
                                         MinWidth="80"
                                         VerticalAlignment="Center"
                                         HorizontalContentAlignment="Center"
                                         Padding="10,8"/>
                            </Grid>

                            <!-- Auto RAM Cleanup -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource AutoRamCleanup}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource AutoRamCleanupDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.AutoRamCleanupEnabled, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- RAM Cleanup Threshold -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource RamCleanupThreshold}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource RamCleanupThresholdDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <TextBox Grid.Column="1" 
                                         Style="{StaticResource ModernTextBox}"
                                         Text="{Binding Settings.RamCleanupThresholdMB, Mode=TwoWay}"
                                         MinWidth="80"
                                         VerticalAlignment="Center"
                                         HorizontalContentAlignment="Center"
                                         Padding="10,8"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Right Column -->
                <StackPanel Grid.Column="2">
                    <!-- Bildirimler -->
                    <Border CornerRadius="12" Padding="24" Margin="0,0,0,20"
                            Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                        <StackPanel>
                            <TextBlock Text="{StaticResource Notifications}" 
                                       FontSize="18" 
                                       FontWeight="Bold" 
                                       Foreground="#F0F6FC"
                                       Margin="0,0,0,20"/>
                            
                            <!-- Show Notifications -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource ShowNotifications}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource ShowNotificationsDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.ShowNotifications, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Dashboard AyarlarÄ± -->
                    <Border CornerRadius="12" Padding="24" Margin="0,0,0,20"
                            Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                        <StackPanel>
                            <TextBlock Text="{StaticResource DashboardSettings}" 
                                       FontSize="18" 
                                       FontWeight="Bold" 
                                       Foreground="#F0F6FC"
                                       Margin="0,0,0,20"/>
                            
                            <!-- Show CPU Card -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" 
                                           Text="{StaticResource ShowCpuCard}" 
                                           FontSize="14" 
                                           Foreground="#F0F6FC"
                                           VerticalAlignment="Center"/>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.ShowCpuCard, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Show Memory Card -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" 
                                           Text="{StaticResource ShowMemoryCard}" 
                                           FontSize="14" 
                                           Foreground="#F0F6FC"
                                           VerticalAlignment="Center"/>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.ShowMemoryCard, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Show Disk Card -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" 
                                           Text="{StaticResource ShowDiskCard}" 
                                           FontSize="14" 
                                           Foreground="#F0F6FC"
                                           VerticalAlignment="Center"/>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.ShowDiskCard, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Show Power Card -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" 
                                           Text="{StaticResource ShowPowerCard}" 
                                           FontSize="14" 
                                           Foreground="#F0F6FC"
                                           VerticalAlignment="Center"/>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.ShowPowerCard, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- DiÄŸer Ayarlar -->
                    <Border CornerRadius="12" Padding="24"
                            Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                        <StackPanel>
                            <TextBlock Text="{StaticResource OtherSettings}" 
                                       FontSize="18" 
                                       FontWeight="Bold" 
                                       Foreground="#F0F6FC"
                                       Margin="0,0,0,20"/>
                            
                            <!-- Auto Cleanup on Startup -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource AutoCleanupOnStartup}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource AutoCleanupOnStartupDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.AutoCleanupOnStartup, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Enable Logging -->
                            <Grid Margin="0,0,0,16">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource EnableLogging}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource EnableLoggingDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <CheckBox Grid.Column="1" 
                                          IsChecked="{Binding Settings.EnableLogging, Mode=TwoWay}"
                                          VerticalAlignment="Center"
                                          Style="{StaticResource ModernCheckBox}"/>
                            </Grid>

                            <!-- Log Level -->
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="{StaticResource LogLevel}" 
                                               FontSize="14" 
                                               FontWeight="SemiBold"
                                               Foreground="#F0F6FC"
                                               Margin="0,0,0,4"/>
                                    <TextBlock Text="{StaticResource LogLevelDesc}" 
                                               FontSize="12" 
                                               Foreground="#8B949E"/>
                                </StackPanel>
                                <ComboBox Grid.Column="1" 
                                          Style="{StaticResource ModernComboBox}"
                                          SelectedValue="{Binding Settings.LogLevel, Mode=TwoWay}"
                                          SelectedValuePath="Tag"
                                          MinWidth="120"
                                          VerticalAlignment="Center">
                                    <ComboBoxItem Content="Debug" Tag="Debug"/>
                                    <ComboBoxItem Content="Info" Tag="Info"/>
                                    <ComboBoxItem Content="Warning" Tag="Warning"/>
                                    <ComboBoxItem Content="Error" Tag="Error"/>
                                </ComboBox>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </Grid>

            <!-- Action Buttons -->
            <Grid Grid.Row="3">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="16"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="16"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Save Button -->
                <Button Grid.Column="1" 
                        Command="{Binding SaveSettingsCommand}"
                        IsEnabled="{Binding IsSaving, Converter={StaticResource InverseBooleanConverter}}"
                        Style="{StaticResource PrimaryButton}"
                        Padding="32,14"
                        MinWidth="150">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ’¾" FontSize="16" Margin="0,0,10,0"/>
                        <TextBlock Text="{StaticResource Save}" FontSize="14" FontWeight="SemiBold"/>
                    </StackPanel>
                </Button>

                <!-- Reset Button -->
                <Button Grid.Column="3" 
                        Command="{Binding ResetToDefaultsCommand}"
                        Style="{StaticResource SecondaryButton}"
                        Padding="32,14"
                        MinWidth="150">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ”„" FontSize="16" Margin="0,0,10,0"/>
                        <TextBlock Text="{StaticResource ResetToDefaults}" FontSize="14"/>
                    </StackPanel>
                </Button>

                <!-- Reload Button -->
                <Button Grid.Column="5" 
                        Command="{Binding LoadSettingsCommand}"
                        Style="{StaticResource SecondaryButton}"
                        Padding="32,14"
                        MinWidth="150">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="â†»" FontSize="16" Margin="0,0,10,0"/>
                        <TextBlock Text="{StaticResource Reload}" FontSize="14"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Grid>
    </ScrollViewer>
</UserControl>
