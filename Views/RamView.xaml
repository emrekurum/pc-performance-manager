<UserControl x:Class="PcPerformanceManager.Views.RamView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:converters="clr-namespace:PcPerformanceManager.Converters"
             xmlns:models="clr-namespace:PcPerformanceManager.Models"
             mc:Ignorable="d" 
             d:DesignHeight="800" d:DesignWidth="1000">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
        <Grid Margin="0,0,10,20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Grid Grid.Row="0" Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Grid.Column="0">
                    <TextBlock Text="RAM YÃ¶netimi" 
                               FontSize="32" 
                               FontWeight="Bold" 
                               Foreground="#F0F6FC"/>
                    <TextBlock Text="Sistem belleÄŸinizi izleyin ve optimize edin" 
                               FontSize="14" 
                               Foreground="#8B949E"
                               Margin="0,8,0,0"/>
                </StackPanel>
                
                <Button Grid.Column="1"
                        Command="{Binding RefreshDataCommand}"
                        IsEnabled="{Binding IsRefreshing, Converter={StaticResource InverseBooleanConverter}}"
                        Style="{StaticResource PrimaryButton}"
                        Padding="24,14">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="ðŸ”„" FontSize="16" Margin="0,0,10,0"/>
                        <TextBlock Text="Yenile" FontSize="14"/>
                    </StackPanel>
                </Button>
            </Grid>

            <!-- RAM Info Cards -->
            <Grid Grid.Row="1" Margin="0,0,0,30">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="16"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="16"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Total Memory Card -->
                <Border Grid.Column="0" CornerRadius="16" Padding="24"
                        Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                            <Border Width="48" Height="48" CornerRadius="12" Margin="0,0,16,0">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#2058A6FF" Offset="0"/>
                                        <GradientStop Color="#1058A6FF" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="ðŸ“Š" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <TextBlock Text="Toplam RAM" FontSize="14" Foreground="#8B949E" VerticalAlignment="Center"/>
                        </StackPanel>
                        <TextBlock Text="{Binding TotalMemoryDisplay, Mode=OneWay}" 
                                   FontSize="36" FontWeight="Bold" Foreground="#58A6FF"/>
                    </StackPanel>
                </Border>
                
                <!-- Used Memory Card -->
                <Border Grid.Column="2" CornerRadius="16" Padding="24"
                        Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                            <Border Width="48" Height="48" CornerRadius="12" Margin="0,0,16,0">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#20F78166" Offset="0"/>
                                        <GradientStop Color="#10F78166" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="ðŸ”¥" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="KullanÄ±lan" FontSize="14" Foreground="#8B949E"/>
                                <TextBlock Text="{Binding MemoryInfo.UsedPercentage, Mode=OneWay, StringFormat='{}{0:F1}%'}" 
                                           FontSize="12" Foreground="#F78166" FontWeight="SemiBold" Margin="0,2,0,0"/>
                            </StackPanel>
                        </StackPanel>
                        <TextBlock Text="{Binding UsedMemoryDisplay, Mode=OneWay}" 
                                   FontSize="36" FontWeight="Bold" Foreground="#F78166"/>
                        <ProgressBar Value="{Binding MemoryInfo.UsedPercentage, Mode=OneWay}" Maximum="100" 
                                     Height="8" Style="{StaticResource ProgressBarOrange}" Margin="0,14,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Free Memory Card -->
                <Border Grid.Column="4" CornerRadius="16" Padding="24"
                        Background="#161B22" BorderThickness="1" BorderBrush="#30363D">
                    <StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                            <Border Width="48" Height="48" CornerRadius="12" Margin="0,0,16,0">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#203FB950" Offset="0"/>
                                        <GradientStop Color="#103FB950" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <TextBlock Text="âœ¨" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                            <StackPanel VerticalAlignment="Center">
                                <TextBlock Text="BoÅŸ" FontSize="14" Foreground="#8B949E"/>
                                <TextBlock Text="{Binding MemoryInfo.FreePercentage, Mode=OneWay, StringFormat='{}{0:F1}%'}" 
                                           FontSize="12" Foreground="#3FB950" FontWeight="SemiBold" Margin="0,2,0,0"/>
                            </StackPanel>
                        </StackPanel>
                        <TextBlock Text="{Binding FreeMemoryDisplay, Mode=OneWay}" 
                                   FontSize="36" FontWeight="Bold" Foreground="#3FB950"/>
                    </StackPanel>
                </Border>
            </Grid>

            <!-- Main Content Sections -->
            <StackPanel Grid.Row="2">
                
                <!-- Section 1: Bloatware Analysis -->
                <Border Background="#161B22" CornerRadius="16" BorderThickness="1" BorderBrush="#30363D" Margin="0,0,0,24">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Section Header -->
                        <Border Grid.Row="0" Background="#21262D" Padding="24,20" CornerRadius="16,16,0,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="ðŸ§¹ Gereksiz Uygulamalar" FontSize="18" FontWeight="Bold" Foreground="#F0F6FC"/>
                                    <TextBlock Text="Sisteminizde Ã§alÄ±ÅŸan gereksiz uygulamalarÄ± tespit edin ve temizleyin" 
                                               FontSize="13" Foreground="#8B949E" Margin="0,6,0,0"/>
                                </StackPanel>

                                <!-- Stats -->
                                <StackPanel Grid.Column="1" Orientation="Horizontal" 
                                            Visibility="{Binding BloatwareCount, Converter={StaticResource CountToVisibilityConverter}}">
                                    <Border Background="#1ADA3633" CornerRadius="10" Padding="16,10" Margin="0,0,12,0">
                                        <TextBlock Foreground="#F78166" FontSize="14">
                                            <Run Text="{Binding BloatwareCount}" FontWeight="Bold" FontSize="18"/>
                                            <Run Text=" uygulama"/>
                                        </TextBlock>
                                    </Border>
                                    <Border Background="#1AD29922" CornerRadius="10" Padding="16,10">
                                        <TextBlock Foreground="#D29922" FontSize="14">
                                            <Run Text="{Binding BloatwareTotalMB, StringFormat='{}{0:F0}'}" FontWeight="Bold" FontSize="18"/>
                                            <Run Text=" MB"/>
                                        </TextBlock>
                                    </Border>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Action Buttons -->
                        <Border Grid.Row="1" Padding="24,20" Background="#1A1F26">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <!-- Left Buttons -->
                                <StackPanel Grid.Column="0" Orientation="Horizontal">
                                    <Button Command="{Binding AnalyzeBloatwareCommand}"
                                            IsEnabled="{Binding IsAnalyzing, Converter={StaticResource InverseBooleanConverter}}"
                                            Style="{StaticResource PrimaryButton}" 
                                            Padding="20,12" 
                                            Margin="0,0,12,0"
                                            MinWidth="140">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="ðŸ”" FontSize="16" Margin="0,0,10,0"/>
                                            <TextBlock Text="Analiz Et" FontSize="14"/>
                                        </StackPanel>
                                    </Button>
                                    <Button Command="{Binding AutoCleanBloatwareCommand}"
                                            IsEnabled="{Binding IsClearingMemory, Converter={StaticResource InverseBooleanConverter}}"
                                            Style="{StaticResource DangerButton}" 
                                            Padding="20,12"
                                            MinWidth="180">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="ðŸ—‘ï¸" FontSize="16" Margin="0,0,10,0"/>
                                            <TextBlock Text="Otomatik Temizle" FontSize="14"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>

                                <!-- Right Buttons -->
                                <StackPanel Grid.Column="2" Orientation="Horizontal">
                                    <Button Content="TÃ¼mÃ¼nÃ¼ SeÃ§" 
                                            Command="{Binding SelectAllBloatwareCommand}"
                                            Style="{StaticResource SecondaryButton}" 
                                            Padding="16,10" 
                                            FontSize="13" 
                                            Margin="0,0,10,0"
                                            MinWidth="110"/>
                                    <Button Content="GÃ¼venli SeÃ§" 
                                            Command="{Binding SelectSafeBloatwareCommand}"
                                            Style="{StaticResource SecondaryButton}" 
                                            Padding="16,10" 
                                            FontSize="13" 
                                            Margin="0,0,10,0"
                                            MinWidth="110"/>
                                    <Button Command="{Binding CleanBloatwareCommand}"
                                            IsEnabled="{Binding IsClearingMemory, Converter={StaticResource InverseBooleanConverter}}"
                                            Style="{StaticResource SuccessButton}" 
                                            Padding="20,12"
                                            MinWidth="180">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="âœ“" FontSize="16" Margin="0,0,10,0"/>
                                            <TextBlock Text="SeÃ§ilenleri Kapat" FontSize="14"/>
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Bloatware List -->
                        <Border Grid.Row="2" Padding="0">
                            <!-- Empty State -->
                            <Grid>
                                <!-- Info Banner when no bloatware found -->
                                <Border Margin="24" Padding="20" CornerRadius="12"
                                        Visibility="{Binding BloatwareCount, Converter={StaticResource CountToVisibilityConverter}, ConverterParameter=inverse}">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                            <GradientStop Color="#1558A6FF" Offset="0"/>
                                            <GradientStop Color="#0858A6FF" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                        <TextBlock Text="ðŸ’¡" FontSize="20" Margin="0,0,14,0" VerticalAlignment="Center"/>
                                        <TextBlock Text="Gereksiz uygulamalarÄ± bulmak iÃ§in 'Analiz Et' butonuna tÄ±klayÄ±n" 
                                                   Foreground="#58A6FF" FontSize="14" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>

                                <!-- Bloatware List when items exist -->
                                <ItemsControl ItemsSource="{Binding BloatwareProcesses}" 
                                              Visibility="{Binding BloatwareCount, Converter={StaticResource CountToVisibilityConverter}}">
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="Transparent" 
                                                    BorderBrush="#30363D" 
                                                    BorderThickness="0,0,0,1"
                                                    Padding="24,16">
                                                <Border.Style>
                                                    <Style TargetType="Border">
                                                        <Style.Triggers>
                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                <Setter Property="Background" Value="#21262D"/>
                                                            </Trigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </Border.Style>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="50"/>
                                                        <ColumnDefinition Width="200"/>
                                                        <ColumnDefinition Width="160"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="100"/>
                                                        <ColumnDefinition Width="90"/>
                                                    </Grid.ColumnDefinitions>

                                                    <CheckBox Grid.Column="0" 
                                                              IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}"
                                                              VerticalAlignment="Center"
                                                              HorizontalAlignment="Center"
                                                              Cursor="Hand"/>

                                                    <TextBlock Grid.Column="1" 
                                                               Text="{Binding DisplayName}" 
                                                               FontSize="14" 
                                                               FontWeight="SemiBold" 
                                                               Foreground="#F0F6FC"
                                                               VerticalAlignment="Center"/>

                                                    <Border Grid.Column="2" 
                                                            Background="#21262D" 
                                                            CornerRadius="8" 
                                                            Padding="12,6" 
                                                            HorizontalAlignment="Left"
                                                            VerticalAlignment="Center">
                                                        <TextBlock Text="{Binding Category}" 
                                                                   FontSize="12" 
                                                                   Foreground="#A371F7" 
                                                                   FontWeight="SemiBold"/>
                                                    </Border>

                                                    <TextBlock Grid.Column="3" 
                                                               Text="{Binding Description}" 
                                                               FontSize="13" 
                                                               Foreground="#8B949E"
                                                               TextTrimming="CharacterEllipsis"
                                                               VerticalAlignment="Center"
                                                               Margin="16,0"/>

                                                    <TextBlock Grid.Column="4" 
                                                               Text="{Binding MemoryMB, StringFormat='{}{0:F1} MB'}" 
                                                               FontSize="14" 
                                                               Foreground="#D29922" 
                                                               FontWeight="Bold"
                                                               VerticalAlignment="Center"
                                                               HorizontalAlignment="Right"/>

                                                    <Border Grid.Column="5" 
                                                            CornerRadius="8" 
                                                            Padding="12,6" 
                                                            HorizontalAlignment="Center"
                                                            VerticalAlignment="Center">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Setter Property="Background" Value="#203FB950"/>
                                                                <Style.Triggers>
                                                                    <DataTrigger Binding="{Binding RiskLevel}" Value="{x:Static models:ProcessRiskLevel.Low}">
                                                                        <Setter Property="Background" Value="#20D29922"/>
                                                                    </DataTrigger>
                                                                    <DataTrigger Binding="{Binding RiskLevel}" Value="{x:Static models:ProcessRiskLevel.Medium}">
                                                                        <Setter Property="Background" Value="#20F78166"/>
                                                                    </DataTrigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                        <TextBlock FontSize="11" FontWeight="Bold" HorizontalAlignment="Center">
                                                            <TextBlock.Style>
                                                                <Style TargetType="TextBlock">
                                                                    <Setter Property="Text" Value="GÃ¼venli"/>
                                                                    <Setter Property="Foreground" Value="#3FB950"/>
                                                                    <Style.Triggers>
                                                                        <DataTrigger Binding="{Binding RiskLevel}" Value="{x:Static models:ProcessRiskLevel.Low}">
                                                                            <Setter Property="Text" Value="DÃ¼ÅŸÃ¼k"/>
                                                                            <Setter Property="Foreground" Value="#D29922"/>
                                                                        </DataTrigger>
                                                                        <DataTrigger Binding="{Binding RiskLevel}" Value="{x:Static models:ProcessRiskLevel.Medium}">
                                                                            <Setter Property="Text" Value="Orta"/>
                                                                            <Setter Property="Foreground" Value="#F78166"/>
                                                                        </DataTrigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </TextBlock.Style>
                                                        </TextBlock>
                                                    </Border>
                                                </Grid>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>

                <!-- Section 2: All Processes -->
                <Border Background="#161B22" CornerRadius="16" BorderThickness="1" BorderBrush="#30363D">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Section Header -->
                        <Border Grid.Row="0" Background="#21262D" Padding="24,20" CornerRadius="16,16,0,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="ðŸ“‹ TÃ¼m Processler" FontSize="18" FontWeight="Bold" Foreground="#F0F6FC"/>
                                        <Border Background="#30363D" CornerRadius="8" Padding="12,6" Margin="16,0,0,0" VerticalAlignment="Center">
                                            <TextBlock Text="{Binding StatusMessage}" FontSize="12" Foreground="#8B949E"/>
                                        </Border>
                                    </StackPanel>
                                    <TextBlock Text="Bellekte en Ã§ok yer kaplayan uygulamalar" 
                                               FontSize="13" Foreground="#8B949E" Margin="0,6,0,0"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1" Orientation="Horizontal">
                                    <Button Content="RAM Temizle" 
                                            Command="{Binding ClearAllMemoryCommand}"
                                            IsEnabled="{Binding IsClearingMemory, Converter={StaticResource InverseBooleanConverter}}"
                                            Style="{StaticResource DangerButton}" 
                                            Padding="20,12" 
                                            MinWidth="140"
                                            Margin="0,0,16,0"/>
                                    
                                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                        <CheckBox Content="Otomatik" 
                                                  IsChecked="{Binding IsAutoRefreshEnabled}"
                                                  Foreground="#8B949E" 
                                                  Style="{StaticResource ModernCheckBox}" 
                                                  Margin="0,0,12,0"/>
                                        <TextBox Text="{Binding RefreshIntervalSeconds}" 
                                                 Width="50" 
                                                 Style="{StaticResource ModernTextBox}" 
                                                 Padding="10,8" 
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="sn" 
                                                   VerticalAlignment="Center" 
                                                   Foreground="#484F58" 
                                                   Margin="8,0,0,0" 
                                                   FontSize="13"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </Border>

                        <!-- Process List -->
                        <Border Grid.Row="1" Padding="0">
                            <ItemsControl ItemsSource="{Binding Processes}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="Transparent" 
                                                BorderBrush="#30363D" 
                                                BorderThickness="0,0,0,1"
                                                Padding="24,14">
                                            <Border.Style>
                                                <Style TargetType="Border">
                                                    <Style.Triggers>
                                                        <Trigger Property="IsMouseOver" Value="True">
                                                            <Setter Property="Background" Value="#21262D"/>
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="150"/>
                                                    <ColumnDefinition Width="120"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Grid.Column="0" 
                                                           Text="{Binding ProcessName}" 
                                                           FontSize="14" 
                                                           Foreground="#F0F6FC"
                                                           VerticalAlignment="Center"/>

                                                <TextBlock Grid.Column="1" 
                                                           Text="{Binding WorkingSetMB, StringFormat='{}{0:F2} MB'}" 
                                                           FontSize="14" 
                                                           Foreground="#D29922" 
                                                           FontWeight="SemiBold"
                                                           VerticalAlignment="Center"
                                                           HorizontalAlignment="Right"
                                                           Margin="0,0,20,0"/>

                                                <Button Grid.Column="2" 
                                                        Content="Temizle" 
                                                        Padding="16,8" 
                                                        Cursor="Hand" 
                                                        Click="ClearProcessButton_Click" 
                                                        Tag="{Binding ProcessId}"
                                                        HorizontalAlignment="Right">
                                                    <Button.Style>
                                                        <Style TargetType="Button">
                                                            <Setter Property="Background">
                                                                <Setter.Value>
                                                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                                        <GradientStop Color="#F78166" Offset="0"/>
                                                                        <GradientStop Color="#DA3633" Offset="1"/>
                                                                    </LinearGradientBrush>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Setter Property="Foreground" Value="White"/>
                                                            <Setter Property="BorderThickness" Value="0"/>
                                                            <Setter Property="FontSize" Value="12"/>
                                                            <Setter Property="FontWeight" Value="SemiBold"/>
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border x:Name="border" 
                                                                                Background="{TemplateBinding Background}" 
                                                                                CornerRadius="8" 
                                                                                Padding="{TemplateBinding Padding}">
                                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                <Setter TargetName="border" Property="Opacity" Value="0.85"/>
                                                                            </Trigger>
                                                                            <Trigger Property="IsPressed" Value="True">
                                                                                <Setter TargetName="border" Property="Opacity" Value="0.7"/>
                                                                            </Trigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                        </Style>
                                                    </Button.Style>
                                                </Button>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </Border>
                    </Grid>
                </Border>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</UserControl>
